# see https://github.com/nrwl/nx/blob/master/.nx/workflows/dynamic-changesets.yaml for inspiration
distribute-on:
  default: auto linux-browsers-js, 1 linux-js

assignment-rules:
  - targets:
      - build
      - check
      - lint
      - pretty-docs
      - knip
    run-on:
      - agent: linux-js
        parallelism: 6
  - targets:
      - test
    run-on:
      - agent: linux-js
        parallelism: 1
  - targets:
      - "*"
    run-on:
      - agent: linux-browsers-js
        parallelism: 1