---
title: 'Accessibility tests'
sidebar:
  order: 3
  title: Accessibility tests
---

# Accessibility Testing in Storybook

Web accessibility (a11y) ensures that your applications are usable by everyone, regardless of their abilities or the technology they use. This includes support for:
- Screen readers
- Keyboard navigation
- Color contrast
- Focus management
- ARIA attributes
- Semantic HTML

## Why Accessibility Matters

### Legal Requirements
- [European Accessibility Act](https://ec.europa.eu/social/main.jsp?catId=1202) (effective June 2025)
- [Americans with Disabilities Act (ADA)](https://www.ada.gov/)
- [Section 508](https://www.section508.gov/) of the Rehabilitation Act

### Standards
These laws are based on [WCAG](https://www.w3.org/WAI/standards-guidelines/wcag/) (Web Content Accessibility Guidelines), which provides:
- Level A: Basic accessibility requirements
- Level AA: Addresses major, common barriers
- Level AAA: Highest level of accessibility

## Getting Started

### 1. Install the Accessibility Addon

```bash
npx storybook add @storybook/addon-a11y
```

This addon uses [axe-core](https://github.com/dequelabs/axe-core), which can automatically detect up to 57% of WCAG issues.

### 2. Basic Configuration

Add to your `.storybook/preview.ts`:

```ts
import type { Preview } from '@storybook/react';

const preview: Preview = {
  parameters: {
    a11y: {
      // Enable automated checks
      test: 'error',
      // Configure rules
      config: {
        rules: [
          {
            // Disable region rule for components
            id: 'region',
            enabled: false,
          },
        ],
      },
    },
  },
};

export default preview;
```

## Writing Accessible Stories

### 1. Basic Button Example

```tsx
// Button.stories.tsx
import type { Meta, StoryObj } from '@storybook/react';
import { Button } from './Button';

const meta: Meta<typeof Button> = {
  title: 'Components/Button',
  component: Button,
  parameters: {
    a11y: {
      // Ensure proper ARIA attributes
      config: {
        rules: [
          {
            id: 'button-name',
            enabled: true,
          },
        ],
      },
    },
  },
};

export default meta;
type Story = StoryObj<typeof Button>;

export const Primary: Story = {
  args: {
    children: 'Submit',
    // Ensure proper contrast
    variant: 'primary',
  },
};

export const IconButton: Story = {
  args: {
    'aria-label': 'Close dialog',
    children: <CloseIcon />,
  },
};
```

### 2. Form Example

```tsx
// Form.stories.tsx
export const LoginForm: Story = {
  args: {
    onSubmit: () => {},
  },
  parameters: {
    a11y: {
      config: {
        rules: [
          {
            // Ensure form controls have labels
            id: 'label',
            enabled: true,
          },
          {
            // Check for proper ARIA attributes
            id: 'aria-valid-attr-value',
            enabled: true,
          },
        ],
      },
    },
  },
};
```

## Advanced Configuration

### 1. Rule Configuration

```ts
// .storybook/preview.ts
const preview: Preview = {
  parameters: {
    a11y: {
      config: {
        rules: [
          {
            // Disable specific rules
            id: 'color-contrast',
            enabled: false,
          },
          {
            // Configure rule severity
            id: 'aria-required-attr',
            enabled: true,
            reviewOnFail: true,
          },
        ],
      },
    },
  },
};
```

### 2. Context Configuration

```tsx
// Modal.stories.tsx
export const WithOverlay: Story = {
  parameters: {
    a11y: {
      // Exclude overlay from checks
      context: {
        exclude: ['.overlay'],
      },
    },
  },
};
```

## Testing Workflow

### 1. Development Workflow

1. **Enable Strict Mode**
   ```ts
   // .storybook/preview.ts
   parameters: {
     a11y: {
       test: 'error',
     },
   }
   ```

2. **Mark Components for Review**
   ```tsx
   // Component.stories.tsx
   export const ComplexComponent: Story = {
     parameters: {
       a11y: {
         test: 'todo',
       },
     },
   };
   ```

3. **Fix and Verify**
   - Use the Accessibility panel to identify issues
   - Implement fixes
   - Remove the 'todo' parameter
   - Verify in the Accessibility panel

### 2. CI Integration

```yaml
# .github/workflows/storybook.yml
name: Storybook Tests
on: [push, pull_request]
jobs:
  test:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v3
      - uses: actions/setup-node@v3
      - run: npm ci
      - run: npm run test-storybook
```

## Common Issues and Solutions

### 1. False Positives

```tsx
// Disable specific rules for a story
export const ComplexComponent: Story = {
  parameters: {
    a11y: {
      config: {
        rules: [
          {
            id: 'aria-required-attr',
            enabled: false,
          },
        ],
      },
    },
  },
};
```

### 2. Async Components

```tsx
// Handle async rendering
export const AsyncComponent: Story = {
  parameters: {
    a11y: {
      // Wait for component to settle
      options: {
        runOnly: {
          type: 'tag',
          values: ['wcag2a', 'wcag2aa'],
        },
      },
    },
  },
};
```

## Best Practices

1. **Start Early**
   - Enable accessibility testing from the beginning
   - Use the 'error' mode to catch issues early

2. **Progressive Enhancement**
   - Start with basic accessibility
   - Gradually add more complex features
   - Test with different assistive technologies

3. **Documentation**
   - Document accessibility features
   - Include usage examples
   - Note any known limitations

4. **Testing Strategy**
   - Combine automated and manual testing
   - Test with real users when possible
   - Regular audits of your components

## Additional Resources

- [WCAG Guidelines](https://www.w3.org/WAI/standards-guidelines/wcag/)
- [Axe Core Documentation](https://github.com/dequelabs/axe-core)
- [ARIA Authoring Practices](https://www.w3.org/WAI/ARIA/apg/)
- [WebAIM Checklist](https://webaim.org/standards/wcag/checklist)

<Callout variant="info">
Remember: Accessibility is not a featureâ€”it's a fundamental requirement for creating inclusive web applications.
</Callout>
